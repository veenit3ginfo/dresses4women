<style>
    @media only screen and (min-width:300px) and (max-width:749px) {
        .do__topbar-item{width:auto !important}
        .announcement-bar{justify-content:space-between;}
    }
    @media only screen and (min-width:750px) and (max-width:1024px) {
        .do__topbar-item:nth-child(2), .do__topbar-item:nth-child(1){width:20% !important}
        .do__topbar-item:nth-child(3){width:60% !important}
    }
</style>
<div class="announcement-bar-wrap color-{{ section.settings.color_scheme }} gradient">
    <div class="page-width">
    <div class="announcement-bar do-flex do-items-center" role="region" aria-label="{{ 'sections.header.announcement' | t }}" {{ block.shopify_attributes }}>
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'do__announcement' -%}
              <div class="do__topbar-item" style="width: {{block.settings.do__bar_width}}%;">
                  {%- if block.settings.text != blank -%}
                    {%- if block.settings.link != blank -%}
                      <a href="{{ block.settings.link }}" class="do-w-full ">
                    {%- endif -%}
                  <p class="announcement-bar__message do-flex do-items-center" style="justify-content:{% if block.settings.text_alignment == 'left' %}flex-start{% elsif block.settings.text_alignment == 'right' %}flex-end {% else %} center{%endif%}">
                    {% if block.settings.do__tb_icon %}
                        <img src="{{block.settings.do__tb_icon | img_url: '20x20'}}" class="do-mr-[6px] md:do-mr-[10px] do-w-[15px] md:do-w-auto"/>
                    {% endif %}
                    <span class="do-text-[12px] md:do-text-[13px]">{{ block.settings.text }}</span>
                  </p>
                  {%- if block.settings.link != blank -%}
                  </a>
                {%- endif -%}
              {%- endif -%}
            </div>
            {%- endcase -%}
          {%- endfor -%}
        </div>
      </div>
  </div>
  {% schema %}
  {
    "name": "Do Topbar",
    "disabled_on": {
        "groups": ["footer"]
      },
    "max_blocks": 4,
    "class": "announcement-bar-section",
    "settings":[
      {
        "type": "select",
        "id": "color_scheme",
        "options": [
          {
            "value": "accent-1",
            "label": "t:sections.all.colors.accent_1.label"
          },
          {
            "value": "accent-2",
            "label": "t:sections.all.colors.accent_2.label"
          },
          {
            "value": "background-1",
            "label": "t:sections.all.colors.background_1.label"
          },
          {
            "value": "background-2",
            "label": "t:sections.all.colors.background_2.label"
          },
          {
            "value": "inverse",
            "label": "t:sections.all.colors.inverse.label"
          }
        ],
        "default": "accent-1",
        "label": "t:sections.all.colors.label"
      }
    ],
    "blocks": [
      {
        "type": "do__announcement",
        "name": "t:sections.announcement-bar.blocks.announcement.name",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "default": "Welcome to our store",
            "label": "t:sections.announcement-bar.blocks.announcement.settings.text.label"
          },
          {
            "type": "image_picker",
            "id": "do__tb_icon",
            "label": "Icon"
          },
          {
            "type": "select",
            "id": "text_alignment",
            "options": [
              {
                "value": "left",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.text_alignment.options__1.label"
              },
              {
                "value": "center",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.text_alignment.options__2.label"
              },
              {
                "value": "right",
                "label": "t:sections.announcement-bar.blocks.announcement.settings.text_alignment.options__3.label"
              }
            ],
            "default": "center",
            "label": "t:sections.announcement-bar.blocks.announcement.settings.text_alignment.label"
          },
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.announcement-bar.blocks.announcement.settings.link.label"
          },
          {
            "type": "range",
            "id": "do__bar_width",
            "min": 1,
            "max": 100,
            "step": 1,
            "unit": "%",
            "label": "Width",
            "default": 1
          }
        ]
      }
    ],
    "presets": [
        {
          "name": "Do Topbar"
        }
    ]
  }
  {% endschema %}
  